from app.models import Poste, Observation, Agg_hour, Agg_day, Agg_month, Agg_year, Agg_global, Exclusion, TypeInstrument   #
from app.tools.agg_tools import get_agg_object
import datetime
from app.classes.posteMeteor import PosteMeteor
p=PosteMeteor.get(1)
p.me
o1=p.observation(datetime.datetime(2021, 2, 13, 12, 49, 55, 0, datetime.timezone.utc))
o1
dtdt = datetime.datetime(2021, 2, 11, 13, 0, 0, 0, datetime.timezone.utc)
obs=p.get_obs(dtdt)
print(obs)

dt=datetime.datetime.now(datetime.timezone.utc)
agg=p.aggregations(dt)
for oneagg in agg:
    print(oneagg)

d_loc=p.date_fuseau(dt)
datetime.datetime(d_loc.year, d_loc.month, 1, 0, 0, 0, 0, datetime.timezone.utc) + datetime.timedelta(months=0)



o=Observation.objects.filter(poste_id_id=1).filter(dat=datetime.datetime(2021, 2, 13, 12, 49, 55, 0, datetime.timezone.utc)).first()

lire json file:

import json

with open('path_to_file/person.json') as f:
  data = json.load(f)

# Output: {'name': 'Bob', 'languages': ['English', 'Fench']}
print(data)

writing json file:

import json

person_dict = {"name": "Bob",
"languages": ["English", "Fench"],
"married": True,
"age": 32
}

with open('person.txt', 'w') as json_file:
  json.dump(person_dict, json_file)

  

  constantes:

class MetaConst(type):
def __getattr__(cls, key):
        return cls[key]
    def __setattr__(cls, key, value):
        raise TypeError